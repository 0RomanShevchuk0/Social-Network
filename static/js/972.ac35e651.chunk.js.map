{"version":3,"file":"static/js/972.ac35e651.chunk.js","mappings":"gQAkBA,EAbc,SAACA,GACd,OAA+BC,EAAAA,EAAAA,IAASD,GAAM,eAAhCE,GAAF,KAAM,MAAS,KAE3B,OACC,4BACC,SAAC,MAAK,kBAAKF,GAAK,IAAEG,UAAWD,EAAKE,OAASF,EAAKG,QAAO,UACnDL,EAAMG,UAAS,YAAIG,EAAAA,EAAAA,YAAsBN,EAAMG,aAElDD,EAAKE,OAASF,EAAKG,UAAW,gBAAKF,UAAWG,EAAAA,EAAAA,MAAa,SAAEJ,EAAKE,UAGtE,E,UCfA,EAA0B,uBAA1B,EAA6D,yBAA7D,EAAuG,8BAAvG,EAAkJ,0BAAlJ,EAA4L,6BAA5L,EAAwO,4BAAxO,EAAuR,gCAAvR,EAAsU,4BAAtU,EAA+W,0BAA/W,EAAuZ,2BAAvZ,EAAic,4BAAjc,EAAqe,qBAAre,EAAggB,mBAAhgB,EAA6hB,uBAA7hB,EAAkkB,2BAAlkB,EAAsmB,sBC2BtmB,EAhB+B,SAACJ,GAC/B,OACC,iBAAKG,UAAWG,EAAwB,WACvC,gBAAKC,IAAKP,EAAMQ,WAAYC,IAAI,UAAUN,UAAWG,KACrD,SAAC,KAAK,CACLI,KAAK,UACLC,SAAUC,EAAAA,GACVC,GAAIC,EACJC,YAAY,UACZZ,UAAS,UAAKG,EAAoB,YAAIA,OAI1C,E,gHCwHA,GAAeU,EAAAA,EAAAA,KARS,SAACC,GACxB,MAAO,CACNC,OAAQD,EAAME,KAAKD,OACnBV,WAAYS,EAAME,KAAKX,WAEzB,GAGwC,CAAEY,MAAAA,EAAAA,GAAOC,WAAAA,EAAAA,IAAjD,EAtH6B,SAACrB,GAE7B,OAAoDsB,EAAAA,EAAAA,UAAS,YAAW,eAAjEC,EAAkB,KAAEC,EAAqB,KAChD,GAAwCF,EAAAA,EAAAA,UAASG,GAAa,eAAvDC,EAAY,KAAEC,EAAe,KAET,aAO1B,OAP0B,0BAA3B,WAA4BC,EAAaC,GAAgB,sFACjC7B,EAAMoB,MAAMQ,EAAOE,MAAOF,EAAOG,UAAU,EAAMH,EAAOI,QAASH,EAAYI,WAAU,OAAhG,GACE,YADF,OACW,gCAClBjC,EAAMqB,aAAa,KAAD,EACxBQ,EAAYK,cAAc,UAAW,IAAI,OAE1CL,EAAYM,eAAc,GAAO,4CACjC,sBAED,SAASC,IACkB,aAAvBb,GACFC,EAAsB,QACtBG,EAAgBU,KAGhBb,EAAsB,YACtBG,EAAgBF,GAElB,CAEA,SAASa,EAAaC,GACrB,IAAMC,EAAiBC,SAASC,eAAe,aAC/CC,UAAUC,UAAUC,UAAUN,GAC9BC,EAAUM,UAAUC,OAAOzC,GAC3B0C,YAAW,WACVR,EAAUM,UAAUG,IAAI3C,EACzB,GACE,IAEH,CAEA,OAAGN,EAAMkB,QAAe,SAAC,KAAQ,CAACgC,GAAG,cAGpC,iBAAK/C,UAAWG,EAAe,WAC9B,wBAAI,oBACJ,SAAC,KAAM,CACN6C,cAAe,CAAErB,MAAO,GAAIC,SAAU,GAAIqB,YAAY,EAAOpB,QAAS,IACtEqB,SAxC4D,SAEnC,EAAD,mCAsCD,SAEtB,gBAAGC,EAAY,EAAZA,aAAcC,EAAM,EAANA,OAAM,OACvB,UAAC,KAAI,CAACpD,UAAWG,EAAiB,WACjC,gBAAKH,UAAWG,EAAsB,UACrC,SAAC,KAAK,CACLI,KAAK,QACLG,GAAIC,EACJH,SAAUC,EAAAA,GACV4C,KAAK,QACLzC,YAAY,QACZZ,UAAWG,OAIb,iBAAKH,UAAWG,EAAsB,WACrC,SAAC,KAAK,CACLI,KAAK,WACLG,GAAIC,EACJH,SAAUC,EAAAA,GACV4C,KAAMjC,EACNR,YAAY,WACZZ,UAAWG,KAEZ,gBAAKH,UAAWG,EAAqBmD,QAASrB,EAAgB,UAC7D,gBAAK7B,IAAKmB,EAAcjB,IAAI,uBAG9B,iBAAKN,UAAWG,EAAmB,WAClC,gBAAKH,UAAWG,EAAa,SAAEiD,EAASA,EAAOnD,MAAQ,OACtDJ,EAAMQ,aAAc,SAAC,EAAO,CAACA,WAAYR,EAAMQ,cAChD,mBAAQgD,KAAK,SAASE,SAAUJ,EAAcnD,UAAWG,EAAoB,SAAC,gBAEzE,KAGT,iBAAKH,UAAWG,EAAW,WAC1B,eACCmD,QAAS,SAACE,GAAaA,EAAEC,OAAQC,mBAAmBf,UAAUgB,SAASxD,GACtEqD,EAAEC,OAAOC,mBAAmBf,UAAUC,OAAOzC,GAC7CqD,EAAEC,OAAOC,mBAAmBf,UAAUG,IAAI3C,EAC3C,EAAE,SACF,4BAGD,iBAAKH,UAAS,UAAKG,EAAc,YAAIA,GAAgB,WACpD,iBACCmD,QAAS,kBAAMnB,EAAa,4BAA4B,EACxDyB,MAAO,CAACC,OAAQ,WAAW,WAE3B,iBAAMD,MAAO,CAACE,WAAY,QAAQ,SAAC,WAAa,iCAEjD,iBACCR,QAAS,kBAAMnB,EAAa,OAAO,EACnCyB,MAAO,CAACC,OAAQ,WAAW,WAE3B,iBAAMD,MAAO,CAACE,WAAY,QAAQ,SAAC,cAAgB,YAGpD,gBAAK9D,UAAS,UAAKG,EAAkB,YAAIA,GAAiB4D,GAAG,YAAW,SAAE,wBAK/E,G","sources":["common/Input/Input.jsx","webpack://react-test/./src/components/Login/Login.module.scss?4086","components/Login/Captcha.tsx","components/Login/Login.tsx"],"sourcesContent":["import { Field, useField } from \"formik\"\r\n\r\nimport styles from './Input.module.scss'\r\n\r\n\r\nconst Input = (props) => {\r\n\tconst [field ,meta, helpers] = useField(props);\r\n\t\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Field {...props} className={meta.error && meta.touched ? \r\n\t\t\t\t`${props.className} ${styles.inputError}` : props.className} \r\n\t\t\t/>\r\n\t\t\t{meta.error && meta.touched && <div className={styles.error}>{meta.error}</div>}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default Input;","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"Login_wrapper__q40LD\",\"loginForm\":\"Login_loginForm__6fY26\",\"inputContainer\":\"Login_inputContainer__coID5\",\"emailInput\":\"Login_emailInput__CqG5i\",\"passwordInput\":\"Login_passwordInput__qKH95\",\"showPassword\":\"Login_showPassword__pUHDC\",\"captchaContainer\":\"Login_captchaContainer__ycQzf\",\"captchaInput\":\"Login_captchaInput__Kdxeh\",\"captchaImg\":\"Login_captchaImg__Xcr7N\",\"submitBlock\":\"Login_submitBlock__+hGsj\",\"submitButton\":\"Login_submitButton__4U7qz\",\"error\":\"Login_error__xNLki\",\"tip\":\"Login_tip__fEr9S\",\"tipBody\":\"Login_tipBody__FlZor\",\"popUpCopied\":\"Login_popUpCopied__1s4RP\",\"hidden\":\"Login_hidden__RLdDu\"};","import { Field } from 'formik';\r\nimport { FC } from 'react';\r\nimport Input from '../../common/Input/Input';\r\nimport { RequiredField } from '../../common/validator';\r\n\r\nimport styles from \"./Login.module.scss\";\r\n\r\n\r\ntype PropsType = {\r\n\tcaptchaImg: string\r\n}\r\n\r\nconst Captcha: FC<PropsType> = (props) => {\r\n\treturn (\r\n\t\t<div className={styles.captchaContainer}>\r\n\t\t\t<img src={props.captchaImg} alt=\"captcha\" className={styles.captchaImg} />\r\n\t\t\t<Field\r\n\t\t\t\tname=\"captcha\"\r\n\t\t\t\tvalidate={RequiredField}\r\n\t\t\t\tas={Input}\r\n\t\t\t\tplaceholder=\"Captcha\"\r\n\t\t\t\tclassName={`${styles.passwordInput} ${styles.captchaInput}`}\r\n\t\t\t/>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\n\r\nexport default Captcha;","import React, { ChangeEvent, FC, MouseEventHandler, useRef, useState } from 'react';\r\nimport { connect } from \"react-redux\";\r\nimport { Navigate } from \"react-router-dom\";\r\nimport { Formik, Form, Field } from 'formik';\r\n\r\nimport Captcha from './Captcha';\r\nimport { getCaptcha, login } from '../../redux/auth-reducer';\r\nimport { RequiredField } from '../../common/validator';\r\n\r\nimport styles from \"./Login.module.scss\";\r\nimport showPassword from \"../../assets/img/show.png\";\r\nimport hidePassword from \"../../assets/img/hide.png\";\r\nimport Input from '../../common/Input/Input';\r\nimport { GlobalStateType } from '../../redux/redux-store';\r\n\r\n\r\n\r\ntype MapStatePropsType = {\r\n\tisAuth: boolean\r\n\tcaptchaImg: string | null\r\n}\r\ntype MapDispatchPropsType = {\r\n\tlogin: (email: string, password: string, rememberMe: boolean, captcha: string, setStatus: any) => any\r\n\tgetCaptcha: () => any\r\n}\r\ntype PropsType = MapStatePropsType & MapDispatchPropsType\r\n\r\nconst Login: FC<PropsType> = (props) => {\r\n\t\r\n\tconst [passwordVisibility, setPasswordVisibility] = useState(\"password\");\r\n\tconst [passwordIcon, setPasswordIcon] = useState(showPassword);\r\n\r\n\tasync function handleSubmit(values: any, submitProps: any) {\r\n\t\tconst response = await props.login(values.email, values.password, true, values.captcha, submitProps.setStatus)\r\n\t\tif(response === \"captcha\") {\r\n\t\t\tawait props.getCaptcha();\r\n\t\t\tsubmitProps.setFieldValue(\"captcha\", \"\");\r\n\t\t}\r\n\t\tsubmitProps.setSubmitting(false);\r\n\t}\r\n\t\r\n\tfunction passwordVisible() {\r\n\t\tif(passwordVisibility === \"password\") {\r\n\t\t\tsetPasswordVisibility(\"text\");\r\n\t\t\tsetPasswordIcon(hidePassword);\r\n\t\t}\r\n\t\telse {\r\n\t\t\tsetPasswordVisibility(\"password\");\r\n\t\t\tsetPasswordIcon(showPassword);\r\n\t\t}\r\n\t}\r\n\r\n\tfunction onPopUpClick(text: string) {\r\n\t\tconst copyPopUp: any = document.getElementById('copyPopUp')\r\n\t\tnavigator.clipboard.writeText(text)\r\n\t\tcopyPopUp.classList.remove(styles.hidden)\r\n\t\tsetTimeout(() => {\r\n\t\t\tcopyPopUp.classList.add(styles.hidden)\r\n\t\t}\t\r\n\t\t, 800)\r\n\t\t\r\n\t}\r\n\t\r\n\tif(props.isAuth) return <Navigate to=\"/profile\"/>;\r\n\r\n\treturn(\r\n\t\t<div className={styles.wrapper}>\r\n\t\t\t<h1>Social Network</h1>\r\n\t\t\t<Formik\r\n\t\t\t\tinitialValues={{ email: \"\", password: \"\", rememberMe: false, captcha: \"\" }}\r\n\t\t\t\tonSubmit={handleSubmit}\r\n\t\t\t>\r\n\t\t\t\t{({ isSubmitting, status }) => (\r\n\t\t\t\t\t<Form className={styles.loginForm}>\r\n\t\t\t\t\t\t<div className={styles.inputContainer}>\r\n\t\t\t\t\t\t\t<Field\r\n\t\t\t\t\t\t\t\tname=\"email\"\r\n\t\t\t\t\t\t\t\tas={Input}\r\n\t\t\t\t\t\t\t\tvalidate={RequiredField}\r\n\t\t\t\t\t\t\t\ttype=\"email\"\r\n\t\t\t\t\t\t\t\tplaceholder=\"Login\"\r\n\t\t\t\t\t\t\t\tclassName={styles.emailInput}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div className={styles.inputContainer}>\r\n\t\t\t\t\t\t\t<Field\r\n\t\t\t\t\t\t\t\tname=\"password\"\r\n\t\t\t\t\t\t\t\tas={Input}\r\n\t\t\t\t\t\t\t\tvalidate={RequiredField}\r\n\t\t\t\t\t\t\t\ttype={passwordVisibility}\r\n\t\t\t\t\t\t\t\tplaceholder=\"Password\"\r\n\t\t\t\t\t\t\t\tclassName={styles.passwordInput}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<div className={styles.showPassword} onClick={passwordVisible}>\r\n\t\t\t\t\t\t\t\t<img src={passwordIcon} alt=\"showPassword\" />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className={styles.submitBlock}>\r\n\t\t\t\t\t\t\t<div className={styles.error}>{status ? status.error : null}</div>\r\n\t\t\t\t\t\t\t{props.captchaImg && <Captcha captchaImg={props.captchaImg} /> }\r\n\t\t\t\t\t\t\t<button type=\"submit\" disabled={isSubmitting} className={styles.submitButton}>Log in</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</Form>\r\n\t\t\t\t)}\r\n\t\t\t</Formik>\r\n\t\t\t<div className={styles.tip}>\r\n\t\t\t\t<h4 \r\n\t\t\t\t\tonClick={(e: any) => {(e.target).nextElementSibling.classList.contains(styles.hidden) ?\r\n\t\t\t\t\t\te.target.nextElementSibling.classList.remove(styles.hidden) :\r\n\t\t\t\t\t\te.target.nextElementSibling.classList.add(styles.hidden)\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\tDon't have an account?\r\n\t\t\t\t</h4>\r\n\t\t\t\t<div className={`${styles.tipBody} ${styles.hidden}`}>\r\n\t\t\t\t\t<div \r\n\t\t\t\t\t\tonClick={() => onPopUpClick('0romanshevchuk0@gmail.com')}\r\n\t\t\t\t\t\tstyle={{cursor: \"pointer\"}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<span style={{fontWeight: \"bold\"}}>Login:</span> 0romanshevchuk0@gmail.com\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div \r\n\t\t\t\t\t\tonClick={() => onPopUpClick('test')}\r\n\t\t\t\t\t\tstyle={{cursor: \"pointer\"}}\t\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<span style={{fontWeight: \"bold\"}}>Password:</span> test\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div className={`${styles.popUpCopied} ${styles.hidden}`} id='copyPopUp' >Text copied</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\n\r\nconst mapStateToProps = (state: GlobalStateType): MapStatePropsType => {\r\n\treturn {\r\n\t\tisAuth: state.auth.isAuth,\r\n\t\tcaptchaImg: state.auth.captchaImg\r\n\t}\r\n}\r\n\r\n\r\nexport default connect(mapStateToProps, { login, getCaptcha })(Login);\r\n"],"names":["props","useField","meta","className","error","touched","styles","src","captchaImg","alt","name","validate","RequiredField","as","Input","placeholder","connect","state","isAuth","auth","login","getCaptcha","useState","passwordVisibility","setPasswordVisibility","showPassword","passwordIcon","setPasswordIcon","values","submitProps","email","password","captcha","setStatus","setFieldValue","setSubmitting","passwordVisible","hidePassword","onPopUpClick","text","copyPopUp","document","getElementById","navigator","clipboard","writeText","classList","remove","setTimeout","add","to","initialValues","rememberMe","onSubmit","isSubmitting","status","type","onClick","disabled","e","target","nextElementSibling","contains","style","cursor","fontWeight","id"],"sourceRoot":""}