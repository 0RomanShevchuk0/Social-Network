"use strict";(self.webpackChunkreact_test=self.webpackChunkreact_test||[]).push([[596],{7853:function(e,a,s){s.r(a),s.d(a,{default:function(){return j}});var t=s(4165),r=s(5861),n=s(9439),i=s(2791),c=s(3531),o=s(7689),u=s(5705),l=s(5796),p=s(4233),m={wrapper:"Login_wrapper__YiOI8",inputContainer:"Login_inputContainer__iS35b",emailInput:"Login_emailInput__ZCUWZ",passwordInput:"Login_passwordInput__lGaq4",showPassword:"Login_showPassword__IXDcS",checkboxInput:"Login_checkboxInput__5q9zj",submitBlock:"Login_submitBlock__a6W8Z",submitButton:"Login_submitButton__bn+qZ",error:"Login_error__bPe2+"},d=s.p+"static/media/show.180932f866861728bd41.png",h=s.p+"static/media/hide.54b3107d160578572bcc.png",_=s(8683),g={inputError:"Input_inputError__nt5uw",error:"Input_error__NN6+n"},x=s(184),b=function(e){var a=(0,u.U$)(e),s=(0,n.Z)(a,3),t=(s[0],s[1]);s[2];return(0,x.jsxs)("div",{children:[(0,x.jsx)(u.gN,(0,_.Z)((0,_.Z)({},e),{},{className:t.error&&t.touched?[e.className,g.inputError].join(" "):e.className})),t.error&&t.touched&&(0,x.jsx)("div",{className:g.error,children:t.error})]})};function w(e){return(0,x.jsxs)("div",{className:"",children:[(0,x.jsx)("img",{src:e.captchaImg,alt:"captcha"}),(0,x.jsx)(u.gN,{name:"captcha",as:b,placeholder:"Captcha",className:m.passwordInput})]})}var j=(0,c.$j)((function(e){return{isAuth:e.auth.isAuth,captchaImg:e.auth.captchaImg}}),{login:l.x4,getCaptcha:l.an})((function(e){var a=(0,i.useState)("password"),s=(0,n.Z)(a,2),c=s[0],l=s[1],_=(0,i.useState)(d),g=(0,n.Z)(_,2),j=g[0],N=g[1];function I(){return(I=(0,r.Z)((0,t.Z)().mark((function a(s,r){return(0,t.Z)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.login(s.email,s.password,s.rememberMe,s.captcha,r.setStatus);case 2:if("captcha"!==a.sent){a.next=7;break}return a.next=6,e.getCaptcha();case 6:r.setFieldValue("captcha","");case 7:r.setSubmitting(!1);case 8:case"end":return a.stop()}}),a)})))).apply(this,arguments)}function f(){"password"===c?(l("text"),N(h)):(l("password"),N(d))}return e.isAuth?(0,x.jsx)(o.Fg,{to:"/profile"}):(0,x.jsxs)("div",{className:m.wrapper,children:[(0,x.jsx)("h1",{children:"Login"}),(0,x.jsx)(u.J9,{initialValues:{email:"",password:"",rememberMe:!1,captcha:""},onSubmit:function(e,a){return I.apply(this,arguments)},children:function(a){var s=a.isSubmitting,t=a.status;return(0,x.jsxs)(u.l0,{className:m.loginForm,children:[(0,x.jsx)("div",{className:m.inputContainer,children:(0,x.jsx)(u.gN,{name:"email",as:b,validate:p._D,type:"email",placeholder:"Login",className:m.emailInput})}),(0,x.jsxs)("div",{className:m.inputContainer,children:[(0,x.jsx)(u.gN,{name:"password",as:b,validate:p.uo,type:c,placeholder:"Password",className:m.passwordInput}),(0,x.jsx)("div",{className:m.showPassword,onClick:f,children:(0,x.jsx)("img",{src:j,alt:"showPassword"})})]}),(0,x.jsxs)("div",{className:m.submitBlock,children:[(0,x.jsxs)("label",{className:m.checkboxInput,children:[(0,x.jsx)(u.gN,{type:"checkbox",name:"rememberMe"}),"Remember me"]}),(0,x.jsx)("div",{className:m.error,children:t?t.error:null}),e.captchaImg&&(0,x.jsx)(w,{captchaImg:e.captchaImg}),(0,x.jsx)("button",{type:"submit",disabled:s,className:m.submitButton,children:"Submit"})]})]})}})]})}))}}]);
//# sourceMappingURL=596.f9a11406.chunk.js.map